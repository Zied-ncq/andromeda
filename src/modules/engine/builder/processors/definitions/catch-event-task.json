{
  "type": "IntermediateCatchEvent",
  "vars": {
    "signalId": "currentNode.signal.id"
  },
  "nodes": [
    {
      "stopAfterFirstCallToTreatWebhooksLikeNodes": true,
      "body": {
        "mode": "static",
        "content": "await PersistenceGateway.createCatchEvent(this.__metaInfo.processInstanceId, vars.signalId);"

      },
      "flow": {
        "mode": "simple",
        "status" : "ProcessInstanceStatus.Active",
        "suffix": ""
      }
    },
    {
      "nameSuffix": "_resume",
        "webController": {
        "enabled": true,
        "config": {
          "path": "/process/:process_id/signal/:signal_id",
          "params": [
            "process_id",
            "signal_id"
          ],
          "verb": "post",
          "secure": {
            "enabled": true,
            "methods": [
              "jwt",
              "origin_check",
              "Unique Tokens",
              "API_KEY"
            ]
          },
          "secure_roles": ["user"]
        }
      },
      "body": {
        "mode": "eval",
        "content": "currentNode.content.script"
      },
      "flow": {
        "mode": "simple",
        "status" : 1,
        "suffix": "_resume"
      }
    }
  ],
  "imports": [
    {
      "name": "is-odd",
      "version": "^1.0.0"
    }
  ]
}